# STNF-XAttn 디버그 설정 (초고속 검증용)

# 데이터 경로
data:
  train_csv: "data/2a/2a_7_train_small.csv"
  test_csv: "data/2a/2a_7_test_small.csv"
  output_dir: "outputs"
  experiment_name: "debug"

# 데이터 로딩 설정
dataloader:
  L: 3                 # context length (최소)
  H: 2                 # forecast horizon (최소)
  batch_size: 4
  num_workers: 0
  val_ratio_t: 0.3

# 관측 샘플링
sampling:
  obs_fraction: 0.10   # 10% (10개 사이트)
  obs_sampling: uniform
  time_varying_obs: false
  bias_sigma: 0.15
  bias_temp: 1.0

# 데이터 정규화
preprocessing:
  normalize_target: false
  normalize_coords: false

# Covariates 설정
covariates:
  use_coords: true     # (x, y) 좌표를 covariates로 추가
  use_time: true       # 시간 t를 covariates로 추가
  time_encoding: linear # {linear, sinusoidal, learnable}

# 학습 설정 (빠른 검증)
training:
  epochs: 3            # 3 에폭만
  lr: 1.0e-3
  weight_decay: 1.0e-5
  patience: 10
  device: cpu          # CPU로 빠른 테스트
  seed: 42
  grad_clip: 1.0
  scheduler: null      # scheduler 비활성화

# 모델 구조 (축소)
model:
  d_site: 32           # 128 → 32
  h_temporal: 32       # 128 → 32
  dropout: 0.0
  layernorm: false
  n_heads: 2           # 4 → 2
  
  # Basis Embedding 설정
  use_basis_embedding: true
  basis_k: 250
  basis_initialize: regular
  basis_learnable: false

# 로깅
logging:
  log_interval: 1      # 모든 배치 로깅
  save_best_only: true
